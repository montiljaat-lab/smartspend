<script>
<script>
document.addEventListener("DOMContentLoaded", () => {
    const token = localStorage.getItem("token");
    console.log("Saved token = ", token);

    const tokenPreview = document.getElementById("tokenPreview");
    if (tokenPreview) {
        tokenPreview.textContent = token || "No token (demo)";
    }

    const demoExpenses = [
        { title: "Breakfast", category: "Food", amount: 80, date: "Today" },
        { title: "Bus Ticket", category: "Travel", amount: 30, date: "Today" },
        { title: "Mobile Recharge", category: "Bills", amount: 199, date: "This week" }
    ];

    const tbody = document.getElementById("expenseBody");
    let total = 0;
    demoExpenses.forEach(e => {
        total += e.amount;
        const tr = document.createElement("tr");
        tr.innerHTML = `
            <td>${e.title}</td>
            <td><span class="tag">${e.category}</span></td>
            <td>₹${e.amount}</td>
            <td>${e.date}</td>
        `;
        tbody.appendChild(tr);
    });

    document.getElementById("totalSpent").textContent = "₹" + total;
    document.getElementById("todaySpent").textContent = "₹" + 110;
    document.getElementById("remainingBudget").textContent = "₹" + (5000 - total);

    document.getElementById("addExpenseBtn").addEventListener("click", () => {
        const title = document.getElementById("expTitle").value.trim();
        const amount = Number(document.getElementById("expAmount").value);
        const category = document.getElementById("expCategory").value;
        const msg = document.getElementById("dashMsg");

        if (!title || !amount) {
            msg.textContent = "Please enter title and amount.";
            return;
        }

        const tr = document.createElement("tr");
        tr.innerHTML = `
            <td>${title}</td>
            <td><span class="tag">${category}</span></td>
            <td>₹${amount}</td>
            <td>Just now</td>
        `;
        tbody.prepend(tr);

        msg.textContent = "Expense added (frontend demo).";

        document.getElementById("expTitle").value = "";
        document.getElementById("expAmount").value = "";
    });

    // sirf logout pe redirect
    document.getElementById("logoutBtn").addEventListener("click", () => {
        localStorage.removeItem("token");
        window.location.href = "login.html";
    });
});
</script>


