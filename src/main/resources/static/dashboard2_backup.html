<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SmartSpend — AI Expense Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        :root {
            --bg-gradient: radial-gradient(circle at top, #1e293b 0, #020617 45%, #000 100%);
            --card-bg: rgba(15, 23, 42, 0.92);
            --card-border: rgba(148, 163, 184, 0.18);
            --accent: #06b6d4;
            --accent-soft: rgba(56, 189, 248, 0.25);
            --text-main: #e5e7eb;
            --text-muted: #9ca3af;
            --danger: #fb7185;
            --success: #4ade80;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: var(--bg-gradient);
            color: var(--text-main);
            min-height: 100vh;
        }

        /* ===== HEADER ===== */
        header {
            position: sticky;
            top: 0;
            z-index: 20;
            padding: 14px 28px;
            backdrop-filter: blur(18px);
            background: linear-gradient(
                    to bottom,
                    rgba(15, 23, 42, 0.9),
                    rgba(15, 23, 42, 0.75),
                    transparent
            );
            border-bottom: 1px solid rgba(148, 163, 184, 0.2);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-left {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .logo-row {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo {
            font-weight: 700;
            font-size: 20px;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .logo-dot {
            width: 8px;
            height: 8px;
            border-radius: 999px;
            background: var(--accent);
            box-shadow: 0 0 12px rgba(56, 189, 248, 0.9);
        }

        .logo-sub {
            font-size: 11px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.18em;
        }

        .chip {
            font-size: 12px;
            padding: 6px 14px;
            border-radius: 999px;
            background: linear-gradient(135deg, #f7d08a, #f0b253);
            color: #1a1a1a;
            font-weight: 600;
            box-shadow: 0 0 12px rgba(255, 200, 80, 0.6);
            border: 1px solid rgba(255, 215, 140, 0.7);
            backdrop-filter: blur(4px);
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .chip-dot {
            width: 6px;
            height: 6px;
            border-radius: 999px;
            background: #22c55e;
            box-shadow: 0 0 10px rgba(34, 197, 94, 0.8);
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-outline {
            padding: 7px 14px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.6);
            background: radial-gradient(circle at top left, rgba(148, 163, 184, 0.18), transparent);
            color: var(--text-main);
            cursor: pointer;
            font-size: 13px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: all 0.18s ease-out;
        }

        .btn-outline:hover {
            border-color: var(--accent);
            box-shadow: 0 0 16px rgba(56, 189, 248, 0.35);
            transform: translateY(-1px);
        }

        /* ===== MAIN LAYOUT ===== */
        main {
            padding: 22px 26px 34px;
            max-width: 1120px;
            margin: 0 auto;
        }

        .page-header {
            display: flex;
            align-items: flex-end;
            justify-content: space-between;
            gap: 10px;
            margin-bottom: 18px;
        }

        h1 {
            margin: 0;
            font-size: 26px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .pill {
            border-radius: 999px;
            padding: 4px 10px;
            font-size: 11px;
            border: 1px solid rgba(148, 163, 184, 0.5);
            color: var(--text-muted);
        }

        .subtitle {
            margin: 4px 0 0;
            color: var(--text-muted);
            font-size: 13px;
        }

        /* ===== GRID & CARDS ===== */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
            gap: 14px;
            margin-bottom: 20px;
        }

        .card {
            background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.12), transparent 55%),
                        radial-gradient(circle at bottom right, rgba(37, 99, 235, 0.15), transparent 55%),
                        var(--card-bg);
            border-radius: 18px;
            padding: 14px 15px;
            border: 1px solid var(--card-border);
            box-shadow:
                0 18px 45px rgba(15, 23, 42, 0.85),
                0 0 0 1px rgba(15, 23, 42, 0.85);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: "";
            position: absolute;
            inset: -40%;
            background: radial-gradient(circle at top, rgba(56, 189, 248, 0.08), transparent 60%);
            opacity: 0;
            transition: opacity 0.25s ease-out;
            pointer-events: none;
        }

        .card:hover::before {
            opacity: 1;
        }

        .card h3 {
            margin: 0;
            font-size: 13px;
            color: var(--text-muted);
            letter-spacing: 0.04em;
            text-transform: uppercase;
        }

        .card .big {
            font-size: 22px;
            margin-top: 10px;
            font-weight: 600;
        }

        .muted {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .trend-text {
            font-size: 11px;
            margin-top: 6px;
        }

        .trend-up {
            color: var(--success);
        }

        .trend-down {
            color: var(--danger);
        }

        /* ===== ADD EXPENSE ===== */
        .form-row {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            flex-wrap: wrap;
        }

        .form-row input,
        .form-row select {
            padding: 8px 10px;
            border-radius: 10px;
            border: 1px solid rgba(51, 65, 85, 0.9);
            background: rgba(15, 23, 42, 0.9);
            color: var(--text-main);
            font-size: 13px;
            outline: none;
            min-width: 120px;
        }

        .form-row input::placeholder {
            color: #6b7280;
        }

        .btn-primary {
            padding: 9px 16px;
            border-radius: 999px;
            border: none;
            background: radial-gradient(circle at top left, #22d3ee, #0ea5e9);
            color: #020617;
            font-weight: 600;
            cursor: pointer;
            font-size: 13px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 10px 24px rgba(56, 189, 248, 0.55);
            transition: all 0.16s ease-out;
        }

        .btn-primary:hover {
            transform: translateY(-1px) scale(1.01);
            box-shadow: 0 14px 30px rgba(56, 189, 248, 0.7);
        }

        #dashMsg {
            margin-top: 6px;
            font-size: 11px;
        }

        #dashMsg.error {
            color: var(--danger);
        }

        #dashMsg.success {
            color: var(--success);
        }

        .token-text {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 8px;
            word-break: break-all;
        }

        /* ===== TABLE ===== */
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
            margin-top: 10px;
        }

        thead {
            background: rgba(15, 23, 42, 0.9);
        }

        th, td {
            padding: 8px 4px;
            border-bottom: 1px solid rgba(15, 23, 42, 0.9);
            text-align: left;
        }

        th {
            color: var(--text-muted);
            font-weight: 500;
            font-size: 11px;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }

        .tag {
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 999px;
            background: rgba(15, 23, 42, 0.9);
            color: var(--text-muted);
            border: 1px solid rgba(51, 65, 85, 0.9);
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 720px) {
            header {
                padding: 12px 16px;
            }
            main {
                padding: 16px 14px 28px;
            }
            .page-header {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>

<body>

<header>
    <div class="header-left">
        <div class="logo-row">
            <div class="logo">
                <span class="logo-dot"></span>
                SmartSpend
            </div>
            <span class="pill">AI Expense Tracker</span>
        </div>
        <div class="logo-sub">Overview • Spending • Insights</div>
    </div>

    <div class="header-right">
        <div class="chip">
            <span class="chip-dot"></span>
            Developed by AKM
        </div>
        <button id="logoutBtn" class="btn-outline">
            ⬅ Logout
        </button>
    </div>
</header>

<main>
    <div class="page-header">
        <div>
            <h1>Dashboard</h1>
            <p class="subtitle">
                Track your daily expenses, see patterns and stay in control of your budget.
            </p>
        </div>
    </div>

    <!-- TOP STATS -->
    <div class="grid">
        <div class="card">
            <h3>Total Spent (Demo)</h3>
            <div class="big" id="totalSpent">₹0</div>
            <div class="muted">All-time spend from recent demo entries.</div>
            <div class="trend-text trend-up">▲ Within healthy range</div>
        </div>
        <div class="card">
            <h3>Today’s Spend</h3>
            <div class="big" id="todaySpent">₹0</div>
            <div class="muted">Spending recorded in the last 24 hours.</div>
            <div class="trend-text trend-down">▼ Try to keep it under your usual average.</div>
        </div>
        <div class="card">
            <h3>Remaining Budget</h3>
            <div class="big" id="remainingBudget">₹0</div>
            <div class="muted">Assuming a monthly target of ₹5000 (demo).</div>
        </div>
    </div>

    <!-- ADD EXPENSE -->
    <div class="card">
        <h3>Add Expense</h3>
        <div class="form-row">
            <input id="expTitle" placeholder="Title (e.g. Lunch with friends)">
            <input id="expAmount" type="number" placeholder="Amount (₹)">
            <select id="expCategory">
                <option value="Food">Food</option>
                <option value="Travel">Travel</option>
                <option value="Shopping">Shopping</option>
                <option value="Bills">Bills</option>
                <option value="Other">Other</option>
            </select>
            <button id="addExpenseBtn" class="btn-primary" type="button">
                + Add
            </button>
        </div>
        <div id="dashMsg" class=""></div>
        <div class="token-text">
            Logged in token (for demo only): <span id="tokenPreview"></span>
        </div>
    </div>

    <!-- EXPENSE TABLE -->
    <div class="card" style="margin-top: 16px;">
        <h3>Recent Expenses (Demo)</h3>
        <table id="expenseTable">
            <thead>
            <tr>
                <th>Title</th>
                <th>Category</th>
                <th>Amount</th>
                <th>When</th>
            </tr>
            </thead>
            <tbody id="expenseBody">
            <!-- Populated by JS -->
            </tbody>
        </table>
    </div>
</main>

<script>
document.addEventListener("DOMContentLoaded", () => {
    // ===== TOKEN HANDLE =====
    let token = localStorage.getItem("token");
    if (!token) {
        token = "demo-token-" + Date.now().toString().slice(-4);
        localStorage.setItem("token", token);
    }

    const tokenPreview = document.getElementById("tokenPreview");
    if (tokenPreview) {
        tokenPreview.textContent = token;
    }

    // ===== DEMO EXPENSES =====
    const demoExpenses = [
        { title: "Breakfast", category: "Food", amount: 80, date: "Today" },
        { title: "Bus Ticket", category: "Travel", amount: 30, date: "Today" },
        { title: "Mobile Recharge", category: "Bills", amount: 199, date: "This week" }
    ];

    const tbody = document.getElementById("expenseBody");
    let total = 0;
    demoExpenses.forEach(e => {
        total += e.amount;
        const tr = document.createElement("tr");
        tr.innerHTML = `
            <td>${e.title}</td>
            <td><span class="tag">${e.category}</span></td>
            <td>₹${e.amount}</td>
            <td>${e.date}</td>
        `;
        tbody.appendChild(tr);
    });

    document.getElementById("totalSpent").textContent = "₹" + total;
    document.getElementById("todaySpent").textContent = "₹110";
    document.getElementById("remainingBudget").textContent = "₹" + (5000 - total);

    // ===== ADD EXPENSE (FRONTEND DEMO) =====
    document.getElementById("addExpenseBtn").addEventListener("click", () => {
        const title = document.getElementById("expTitle").value.trim();
        const amount = Number(document.getElementById("expAmount").value);
        const category = document.getElementById("expCategory").value;
        const msg = document.getElementById("dashMsg");

        msg.className = "";
        msg.textContent = "";

        if (!title || !amount) {
            msg.textContent = "Please enter both title and amount.";
            msg.classList.add("error");
            return;
        }

        const tr = document.createElement("tr");
        tr.innerHTML = `
            <td>${title}</td>
            <td><span class="tag">${category}</span></td>
            <td>₹${amount}</td>
            <td>Just now</td>
        `;
        tbody.prepend(tr);

        msg.textContent = "Expense added (frontend demo only – can be wired to backend).";
        msg.classList.add("success");

        document.getElementById("expTitle").value = "";
        document.getElementById("expAmount").value = "";
    });

    // ===== LOGOUT =====
    document.getElementById("logoutBtn").addEventListener("click", () => {
        localStorage.removeItem("token");
        window.location.href = "login.html";
    });
});
</script>

</body>
</html>
